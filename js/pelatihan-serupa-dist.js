import{API_CONFIG as e,formatedString as a,formatCurrency as t,isNumeric as n}from"./config-dist";const i={by:"createdAt",method:"desc"},s=async(a,t,n,s)=>{const r=t?.by||i.by,c=t?.method||i.method,l=n?.curr||1,o=n?.size||10,d=`${e.baseUrl}/courses?populate[0]=meta_seo&populate[1]=image&populate[2]=learning_platform.image&populate[3]=course_category&filters[documentId][$ne]=${s}populate[4]=meta_seo&sort[0][${r}]=${c}&pagination[page]=${l}&pagination[pageSize]=${o}&${(()=>{const e=[];return a?.forEach(((a,t)=>{e.push(`filters[$or][${t}][course_tags][name][$eq]=${a}`)})),e.join("&")})()}`;try{const a=await fetch(d,{method:"GET",headers:{Authorization:`Bearer ${e.token}`}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);return await a.json()}catch(p){throw console.error("API call failed:",p),p}},r=async(e,i,r,c)=>{try{const l=await s(e,i,r,c),o=document.getElementById("list-pelatihan-serupa");if(!o)return;let d="";for(let e of l.data){if(e?.documentId==c)continue;let i=e?.price||0,s=e?.price_final||0;const r=100-Math.floor(s/i*100);let l;l=0==s?"Gratis":s,d+=`\n                <div class="swiper-slide">\n                    <div class="card course-card"><a class="text-decoration-none to-detail-course" href="/pelatihan/detail-pelatihan.html?title=${a(e?.name)}-${e?.documentId}" title="${e?.name}">\n                        <div class="card-cover"><img class="card-img-top" src="${e?.image[0].url}" alt="${e?.name}">\n                        <div class="card-cover-overlay">\n                            <div class="d-flex justify-content-between align-middle">\n                            <div class="align-self-center">\n                                <div class="card-company"><img class="me-1 card-logo" src="${e?.learning_platform?.image[0]?.url}" alt="${e?.learning_platform?.name}"><span class="course-lp-name">${e?.learning_platform?.name}</span></div>\n                            </div>\n                            <div class="align-self-center"><span class="badge rounded-pill text-capitalize text-bg-warning">Self Paced Learning</span></div>\n                            </div>\n                        </div>\n                        </div>\n                        <div class="card-body">\n                        <h6 class="mb-1 course-title text-capitalize" title="${e?.name}">${e?.name}</h6>\n                        <div class="d-flex my-2"><span class="badge text-bg-light text-capitalize badge-ellipsis" title="${e?.course_category?.name}">${e?.course_category?.name}</span></div>\n                        <div>\n                            <div class="course-real-price mb-1"><span class="me-2">${t(e?.price)}</span><span class="badge text-bg-success">${r}%</span></div>\n                            <div class="course-price card-price mb-1 color-tertiary">${n(l)?t(l):l}</div>\n                        </div>\n                        </div></a></div>\n                </div>\n            `}if(""==d){const e=document.getElementById("container-pelatihan-serupa");if(!e)return;return void(e.style.display="none")}o.innerHTML=d}catch(l){console.error("Failed to initialize:",l)}};export{s as callApiSimiliar,r as init};
//# sourceMappingURL=pelatihan-serupa-dist.js.map